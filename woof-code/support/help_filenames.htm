<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>


<meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">


<title></title>
</head><body>
<h1>Puppy filenames</h1>
<br>
The main Puppy files are:<br>
<br>
<span style="font-style: italic;">vmlinuz, initrd.gz, puppy.sfs, zdrv.sfs, fdrv.sfs, adrv.sfs, ydrv.sfs</span><br>
<br>
Versioning is put into the last two, for example:<br>
<br>
<span style="font-style: italic;">vmlinuz, initrd.gz, puppy_slacko_7.0.0, zdrv_slacko_7.0.0.sfs, fdrv_slacko_7.0.0.sfs, adrv_slacko_7.0.0.sfs, ydrv_slacko_7.0.0.sfs</span><br>
<br>
...those last two names are intended to be unique for that build of Puppy, so they can be found at bootup.<br>
<br>
<h2>DISTRO_SPECS file</h2>
The Woof '3builddistro' script (or checkbox in the 'woof_gui' GUI) enables to choose simplified or traditional filenames.<br>
<br>
Whichever is chosen, the names are stored in the built Puppy, in /etc/DISTRO_SPECS. For example:<br>
<br>
<span style="font-style: italic;">DISTRO_PUPPYSFS='puppy_slacko_7.0.0.sfs'<br>
DISTRO_ZDRVSFS='zdrv_slacko_7.0.0.sfs'<br>
DISTRO_FDRVSFS='fdrv_slacko_7.0.0.sfs'<br>
DISTRO_ADRVSFS='adrv_slacko_7.0.0.sfs'<br>
DISTRO_YDRVSFS='ydrv_slacko_7.0.0.sfs'<br>
</span>
<br>
So, any script that wants to know what the names are can read these variables.<br>
<br>
Woof 3builddistro also copies DISTRO_SPECS into the initrd.gz, so that the 'init' script can see what files to search for.<br>
<br>
However, in a running Puppy, you can find out the filenames in the way
that scripts have done before, by reading 'PUPSFS' and 'ZDRV' variables
in /etc/rc.d/PUPSTATE.<br>
<br>
In fact, to clarify the difference between these two sets of variables, I have put this comment into /etc/DISTRO_SPECS:<br>
<br>
<span style="font-style: italic;">#Note, the .sfs files below are what the 'init' script in initrd.gz searches for,</span><br style="font-style: italic;">
<span style="font-style: italic;">#for the partition, path and actual files loaded, see PUPSFS and ZDRV in /etc/rc.d/PUPSTATE</span><br>
<br>
Regards, Barry Kauler - Sept. 2010<br>
<br>
Updated Oct. 2016
</body></html>